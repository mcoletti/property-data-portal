(function(n){"use strict";function h(n,t){var u=n.data("carousel"),i=n.data("$carouselInner"),f=n.data("$carouselSlide"),e=n.data("carousel-slide-positions"),o=-parseInt(i.css("width"),10)+parseInt(n.css("width"),10),r;n.removeClass("carouselAnimating");f.removeClass("carouselCurrentSlide").eq(t).addClass("carouselCurrentSlide");t===0?(n.addClass("carouselFirstSlide"),n.outerWidth()>=i.outerWidth()?n.addClass("carouselLastSlide"):n.removeClass("carouselLastSlide")):e[t]<=o?(n.addClass("carouselLastSlide"),n.outerWidth()>=i.outerWidth()?n.addClass("carouselFirstSlide"):n.removeClass("carouselFirstSlide")):n.removeClass("carouselFirstSlide carouselLastSlide");u.pagination&&(r=u.customControls?"":"silver",n.find(".carouselGoToSlide").removeClass("active").addClass(r).end().find('.carouselGoToSlide[data-carousel-slide="'+(n.find(".carouselCurrentSlide").index()+1)+'"]').addClass("active").removeClass(r))}function i(n,i,r){var f=n.data("$carouselInner"),l=n.data("$carouselSlide"),u=n.data("carousel"),s=n.data("carousel-slide-positions"),c,a=n.find(".carouselCurrentSlide"),e=a.index(),v=0,o=0;if(i<0?i=0:i>=n.data("$carouselSlide").length&&(i=n.find("carouselSlide").length-1),u.slidesPerScroll>1&&!r&&!u.fullWidth)if(i>e)while(i>e+1&&Math.abs(s[i]-s[e])>n.outerWidth())i-=1;else if(e>i)while(e+1>i&&Math.abs(s[e]-s[i])>n.outerWidth())i+=1;if(n.outerWidth()>=f.outerWidth()?o=0:(v=u.fullWidth?-f.outerWidth():parseInt(n.css("width"),10)-parseInt(f.css("width"),10),o=Math.min(0,Math.max(n.data("carousel-slide-positions")[i],v))),u.onSlideEnd!==!1)u.onSlideEnd(e,a);if(u.onSlideStart!==!1){c=n.data("$carouselSlide").eq(i);u.onSlideStart(c.index(),c)}n.addClass("carouselAnimating");t.cssTransition?u.carouselHeight==="varied"?f.css({left:o,height:l.eq(i).outerHeight(!0)}):f.css({left:o}):u.carouselHeight==="varied"?f.animate({left:o,height:l.eq(i).outerHeight(!0)},u.scrollTime,"swing"):f.animate({left:o},u.scrollTime,"swing");h(n,i)}function f(n){var t=n.data("carousel"),r=n.data("$carouselSlide").length;n.hasClass("carouselLastSlide")?t.continuous?i(n,0,!0):i(n,r-1,!0):i(n,n.find(".carouselCurrentSlide").index()+t.slidesPerScroll)}function e(n){var t=n.data("carousel"),r=n.data("$carouselSlide").length;n.hasClass("carouselFirstSlide")?t.continuous?i(n,r-1,!0):i(n,0,!0):i(n,n.find(".carouselCurrentSlide").index()-t.slidesPerScroll)}function o(i){var r=i.data("carousel"),h=i.data("$carouselInner"),e=i.data("$carouselSlide"),y=e.length,c=[],u=0,f=0,o,v=n.browser.msie&&parseInt(n.browser.version,10)===8,s,l,a;e.each(function(){var t=n(this);v?(l=t.css("border-left-width").indexOf("px")>-1?parseInt(t.css("border-left-width"),10):0,a=t.css("border-right-width").indexOf("px")>-1?parseInt(t.css("border-right-width"),10):0,t.css("max-width",parseInt(i.css("width"),10)-parseInt(t.css("padding-left"),10)-parseInt(t.css("padding-right"),10)-l-a)):t.css("max-width",i.css("width"));c.push(-u);u+=t.outerWidth(!0);f=f>t.outerHeight(!0)?f:t.outerHeight(!0)});i.data("carousel-slide-positions",c);o=r.carouselHeight==="css"?"":r.carouselHeight==="varied"?e.eq(0).outerHeight(!0):r.carouselHeight&&r.carouselHeight!=="auto"?r.carouselHeight:f;t.cssTransition?h.css({height:o,width:u}):(s={width:u},r.carouselHeight!=="css"&&(s.height=o),h.animate(s,r.scrollTime,"swing"));i.addClass("carouselActive")}function u(n){var t=n.data("carousel");n.removeClass("carouselPaused").addClass("carouselPlaying").find(".carouselPausePlay button").removeClass("carouselPlay iconPlay").addClass("carouselPause iconPause");n.data("carousel-timer",setInterval(function(){f(n)},t.autoscroll+t.scrollTime))}function r(n,t){n.addClass("carouselPaused").removeClass("carouselPlaying");clearInterval(n.data("carousel-timer"));t&&n.data("carousel-timer",null).removeClass("carouselPaused carouselPlaying").find(".carouselPausePlay button").removeClass("carouselPause iconPause").addClass("carouselPlay iconPlay")}function c(t){var r=t.data("carousel"),i;i=r.prevNextOutsideCarouselBg?t:t.find(".carouselBg");n('<menu class="carouselControlsDefault"><button class="carouselPreviousBtn icon iconArrowLeft" type="button"><\/button><button class="carouselNextBtn icon iconArrowRight" type="button"><\/button><\/menu>').appendTo(i)}function l(t){var r=0,e=t.data("$carouselSlide"),u=t.data("carousel"),o=e.length,i,f;for(i='<menu class="carouselPagination carouselPagination'+u.pagination.charAt(0).toUpperCase()+u.pagination.slice(1)+'">',r;r<o;r+=1)i+='<button class="carouselGoToSlide ancBtn silver sml" type="button" data-carousel-slide="'+(r+1)+'">',u.pagination==="numbers"&&(i+=r+1),i+="<\/button>";i+="<\/menu>";f=u.paginationOutsideCarouselBg?t:t.find(".carouselBg");n(i).appendTo(f)}function a(t){var r=t.data("carousel"),i;i=r.pausePlayOutsideCarouselBg?t:t.find(".carouselBg");n('<menu class="carouselPausePlay"><button class="carouselPausePlayBtn carouselPause ancBtn sml silver icon iconPause" type="button"><\/button><\/menu>').appendTo(i)}function v(t){var f=t.data("$carouselInner"),e=t.data("$carouselSlide"),i=null,o=t.data("carousel-slide-positions"),r=parseInt(f.css("left"),10),u;return n.each(o,function(n){(!i||Math.abs(this-r)<Math.abs(i-r))&&(i=this,u=n)}),e.eq(u).index()}function y(n){var w=n.data("carousel"),s=n.data("$carouselInner"),k,b=15,u=0,l=0,a=0,o=0,y=0,t,p,h,d,g,nt,tt,c="left "+w.scrollTime+"ms, height "+w.scrollTime+"ms";s.on("touchstart.carousel",function(n){s.css({"-moz-transition":"none","-ms-transition":"none","-o-transition":"none","-webkit-transition":"none",transition:"none"});g=(new Date).getTime();h=undefined;o=0;y=0;t=0;p=0;u=n.originalEvent.touches?n.originalEvent.touches[0].pageX:n.pageX;l=n.originalEvent.touches?n.originalEvent.touches[0].pageY:n.pageY;k=parseInt(s.css("left"),10)}).on("touchmove.carousel",function(i){o=i.originalEvent.touches?i.originalEvent.touches[0].pageX:i.pageX;y=i.originalEvent.touches?i.originalEvent.touches[0].pageY:i.pageY;a=o-u;t=u===0?0:Math.abs(a);p=l===0?0:Math.abs(y-l);s.css({left:k+a});h===undefined&&t>b&&(h=t<p,w.autoscroll&&r(n,!0));h||i.preventDefault()}).on("touchend.carousel",function(){s.css({"-moz-transition":c,"-ms-transition":c,"-o-transition":c,"-webkit-transition":c,transition:c});h||(nt=(new Date).getTime(),tt=Math.abs(nt-g),tt<400&&t>b?o<u?f(n):o>u&&e(n):t>b&&(d=v(n),i(n,d,!0)));a=0;o=0;y=0;t=0;p=0;u=0;l=0})}function p(s){var h=s.data("carousel"),k=s.data("$carouselInner"),v=n(window).width(),p=n(window).height(),c,l,w,a=!0,b;n(window).on("resize.carousel",function(){c=n(window).width();l=n(window).height();(v!==c||p!==l)&&(h.autoscroll&&s.hasClass("carouselPlaying")&&a===!0&&(r(s),a=!1),clearTimeout(w),w=setTimeout(function(){b=k.find(".carouselCurrentSlide").index();o(s);i(s,b,!0);h.autoscroll&&s.hasClass("carouselPaused")&&u(s);a=!0},400));v=c;p=l});if(h.autoscroll)s.on("mouseover.carousel",function(){s.hasClass("carouselPlaying")&&r(s)}).on("mouseleave.carousel",function(){s.hasClass("carouselPaused")&&u(s)});t.isTouchDevice&&y(s);s.on("click.carousel",".carouselNextBtn",function(){t.cssTransition||s.data("$carouselInner").stop();h.autoscroll&&r(s,!0);f(s)}).on("click.carousel",".carouselPreviousBtn",function(){t.cssTransition||s.data("$carouselInner").stop();h.autoscroll&&r(s,!0);e(s)}).on("click.carousel",".carouselGoToSlide",function(){t.cssTransition||s.data("$carouselInner").stop();h.autoscroll&&r(s,!0);i(s,n(this).attr("data-carousel-slide")-1,!0)}).on("click.carousel",".carouselPausePlayBtn",function(){var t=n(this);t.hasClass("carouselPause")?(t.removeClass("carouselPause").addClass("carouselPlay"),h.customControls||t.removeClass("iconPause").addClass("iconPlay"),r(s,!0)):(t.removeClass("carouselPlay").addClass("carouselPause"),h.customControls||t.removeClass("iconPlay").addClass("iconPause"),s.hasClass("carouselLastSlide")?i(s,0,!0):f(s),u(s))})}function w(n){var t=n.data("carousel");t.autoscroll&&r(n,!0);n.removeClass("carouselActive carouselVertical carouselFullWidth carouselContinuous carouselAutoscroll carouselPlaying carouselPaused carouselFirstSlide carouselLastSlide").removeAttr("style").find(".carouselInner").unwrap().end().find(".carouselSlide, .carouselInner").removeAttr("style class").end().find("menu").remove().off(".carousel")}function b(r,f){var s,v,y,e;f=r.data("carousel",n.extend({},t.defaults,f)).data("carousel");s=f.firstSlide-1;e="left "+f.scrollTime+"ms, height "+f.scrollTime+"ms";r.addClass("carousel").data("$carouselInner",r.children("ul").addClass("carouselInner")).data("$carouselSlide",r.data("$carouselInner").children().addClass("carouselSlide"));v=r.data("$carouselInner");y=r.data("$carouselSlide");r.children(".carouselBg").length||v.wrap('<div class="carouselBg" />');f.fullWidth&&r.addClass("carouselFullWidth");f.continuous&&r.addClass("carouselContinuous");f.autoscroll&&r.addClass("carouselAutoscroll");y.eq(0).css("margin-left",0).end().eq(y.length-1).css("margin-right",0);t.cssTransition&&v.css({"-moz-transition":e,"-ms-transition":e,"-o-transition":e,"-webkit-transition":e,transition:e});o(r);f.showPrevNextBtns&&!f.customControls&&c(r);f.pagination&&!f.customControls&&l(r);f.autoscroll&&f.showPausePlayBtns&&!f.customControls&&a(r);p(r);r.removeClass("loading");setTimeout(function(){i(r,s,!0);r.data("$carouselSlide").find("carouselCurrentSlide").length||h(r,s);f.autoscroll&&u(r)},400)}var t={},s=1;if(n.carousel&&s<=n.carousel.version)return!1;t.defaults={fullWidth:!0,carouselHeight:!1,pagination:null,firstSlide:1,slidesPerScroll:1,continuous:!1,autoscroll:0,scrollTime:400,showPrevNextBtns:!0,showPausePlayBtns:!1,customControls:!1,prevNextOutsideCarouselBg:!1,pausePlayOutsideCarouselBg:!1,paginationOutsideCarouselBg:!0,onSlideStart:!1,onSlideEnd:!1};t.cssTransition=function(){var t=document.body||document.documentElement,n=t.style;return n.transition!==undefined||n.WebkitTransition!==undefined||n.MozTransition!==undefined||n.MsTransition!==undefined||n.OTransition!==undefined}();t.isTouchDevice="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;t.isIpad=navigator.userAgent.match(/iPad/i)!==null;n.fn.carousel=function(t,s){return this.each(function(){var h=n(this);t==="next"?f(h):t==="prev"?e(h):t==="goToSlide"?i(h,s-1,!0):t==="stop"?h.data("carousel").autoscroll&&r(h,!0):t==="play"?s?(h.data("carousel").autoscroll=s,u(h)):h.data("carousel").autoscroll&&u(h):t==="fixDimensions"?o(h):t==="destroy"?w(h):h.data("carousel")||b(n(this),t)})};n(function(){t.isTouchDevice?n("html").addClass("touch"):n("html").addClass("noTouch")});n.carousel={};n.carousel.version=s})(jQuery);
//# sourceMappingURL=carousel.min.js.map